import{H as F,be as Ke,bf as Pe,z as R,aA as fe,E as ne,A as q,d as C,C as K,bg as He,c as Y,e as H,F as ae,a4 as Ie,ax as $e,aq as he,aB as Ne,bh as le,aC as je,r as V,as as Ae,aG as Q,aE as ce,w as B,B as T,D as o,P as $,bi as qe,f as Fe,a6 as ee,av as ge,bj as We,o as Me,b as Ue,aM as ke,ar as Oe,bk as Ge,bl as Ye,bm as Je,bn as be,bo as Xe,J as Ve,bp as Qe,bq as Ze,aP as et,aw as tt,br as it,bs as st,y as nt,b2 as at,b4 as lt,b5 as rt,U as ye,g as ot,n as Z,$ as xe,a0 as ut,bb as dt}from"./CfJb8U0D.js";import{u as ct,f as se,g as ft}from"./C3Smfgc6.js";import{g as ht,M as gt}from"./CJ6N1qLF.js";function pt(a){return F(()=>Ke(a)?!!Pe(a)?.closest("form"):!0)}function mt(){return{ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",SPACE_CODE:"Space"}}var vt=R({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(a){const n=a,{primitiveElement:t,currentElement:e}=fe(),i=F(()=>n.checked??n.value);return ne(i,(s,l)=>{if(!e.value)return;const r=e.value,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"value").set;if(f&&s!==l){const b=new Event("input",{bubbles:!0}),c=new Event("change",{bubbles:!0});f.call(r,s),r.dispatchEvent(b),r.dispatchEvent(c)}}),(s,l)=>(C(),q(He,K({ref_key:"primitiveElement",ref:t},{...n,...s.$attrs},{as:"input"}),null,16))}}),Ee=vt,bt=R({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(a){const n=a,t=F(()=>typeof n.value=="object"&&Array.isArray(n.value)&&n.value.length===0&&n.required),e=F(()=>typeof n.value=="string"||typeof n.value=="number"||typeof n.value=="boolean"||n.value===null||n.value===void 0?[{name:n.name,value:n.value}]:typeof n.value=="object"&&Array.isArray(n.value)?n.value.flatMap((i,s)=>typeof i=="object"?Object.entries(i).map(([l,r])=>({name:`${n.name}[${s}][${l}]`,value:r})):{name:`${n.name}[${s}]`,value:i}):n.value!==null&&typeof n.value=="object"&&!Array.isArray(n.value)?Object.entries(n.value).map(([i,s])=>({name:`${n.name}[${i}]`,value:s})):[]);return(i,s)=>(C(),Y(ae,null,[H(" We render single input if it's required "),t.value?(C(),q(Ee,K({key:i.name},{...n,...i.$attrs},{name:i.name,value:i.value}),null,16,["name","value"])):(C(!0),Y(ae,{key:1},Ie(e.value,l=>(C(),q(Ee,K({key:l.name},{ref_for:!0},{...n,...i.$attrs},{name:l.name,value:l.value}),null,16,["name","value"]))),128))],2112))}}),yt=bt;function Ce(a){return a?.querySelector("[data-state=checked]")}function xt(a,n,t){return a===void 0?!1:Array.isArray(a)?a.some(e=>D(e,n,t)):D(a,n,t)}function D(a,n,t){return a===void 0||n===void 0?!1:typeof a=="string"?a===n:typeof t=="function"?t(a,n):typeof t=="string"?a?.[t]===n?.[t]:$e(a,n)}const[re,Et]=he("ListboxRoot");var Ct=R({__name:"ListboxRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},orientation:{type:String,required:!1,default:"vertical"},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},selectionBehavior:{type:String,required:!1,default:"toggle"},highlightOnHover:{type:Boolean,required:!1},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(a,{expose:n,emit:t}){const e=a,i=t,{multiple:s,highlightOnHover:l,orientation:r,disabled:d,selectionBehavior:p,dir:f}=Ne(e),{getItems:b}=le({isProvider:!0}),{handleTypeaheadSearch:c}=ct(),{primitiveElement:g,currentElement:h}=fe(),y=mt(),S=je(f),w=pt(h),z=V(),M=V(!1),O=V(!0),x=Ae(e,"modelValue",i,{defaultValue:e.defaultValue??(s.value?[]:void 0),passive:e.modelValue===void 0,deep:!0});function te(u){if(M.value=!0,e.multiple){const m=Array.isArray(x.value)?[...x.value]:[],v=m.findIndex(_=>D(_,u,e.by));e.selectionBehavior==="toggle"?(v===-1?m.push(u):m.splice(v,1),x.value=m):(x.value=[u],z.value=u)}else e.selectionBehavior==="toggle"&&D(x.value,u,e.by)?x.value=void 0:x.value=u;setTimeout(()=>{M.value=!1},1)}const I=V(null),N=V(null),L=V(!1),A=V(!1),j=ce(),W=ce(),ie=ce();function J(){return b().map(u=>u.ref).filter(u=>u.dataset.disabled!=="")}function k(u,m=!0){if(!u)return;I.value=u,O.value&&I.value.focus(),m&&I.value.scrollIntoView({block:"nearest"});const v=b().find(_=>_.ref===u);i("highlight",v)}function oe(u){if(L.value)ie.trigger(u);else{const m=b().find(v=>D(v.value,u,e.by));m&&(I.value=m.ref,k(m.ref))}}function E(u){I.value&&I.value.isConnected&&(u.preventDefault(),u.stopPropagation(),A.value||I.value.click())}function P(u){if(O.value){if(M.value=!0,L.value)W.trigger(u);else{const m=u.altKey||u.ctrlKey||u.metaKey;if(m&&u.key==="a"&&s.value){const v=b(),_=v.map(U=>U.value);x.value=[..._],u.preventDefault(),k(v[v.length-1].ref)}else if(!m){const v=c(u.key,b());v&&k(v)}}setTimeout(()=>{M.value=!1},1)}}function ue(){A.value=!0}function Be(){Q(()=>{A.value=!1})}function pe(){Q(()=>{const u=new KeyboardEvent("keydown",{key:"PageUp"});me(u)})}function de(u){const m=I.value;m?.isConnected&&(N.value=m),I.value=null,i("leave",u)}function Re(u){const m=new CustomEvent("listbox.entryFocus",{bubbles:!1,cancelable:!0});if(u.currentTarget?.dispatchEvent(m),i("entryFocus",m),!m.defaultPrevented)if(N.value)k(N.value);else{const v=J()?.[0];k(v)}}function me(u){const m=ht(u,r.value,S.value);if(!m)return;let v=J();if(I.value){if(m==="last")v.reverse();else if(m==="prev"||m==="next"){m==="prev"&&v.reverse();const _=v.indexOf(I.value);v=v.slice(_+1)}Le(u,v[0])}if(v.length){const _=!I.value&&m==="prev"?v.length-1:0;k(v[_])}if(L.value)return W.trigger(u)}function Le(u,m){if(!(L.value||e.selectionBehavior!=="replace"||!s.value||!Array.isArray(x.value)||(u.altKey||u.ctrlKey||u.metaKey)&&!u.shiftKey)&&u.shiftKey){const _=b().filter(X=>X.ref.dataset.disabled!=="");let U=_.find(X=>X.ref===m)?.value;if(u.key===y.END?U=_[_.length-1].value:u.key===y.HOME&&(U=_[0].value),!U||!z.value)return;const De=se(_.map(X=>X.value),z.value,U);x.value=De}}async function ve(u){if(await Q(),L.value)j.trigger(u);else{const m=J(),v=m.find(_=>_.dataset.state==="checked");v?k(v):m.length&&k(m[0])}}return ne(x,()=>{M.value||Q(()=>{ve()})},{immediate:!0,deep:!0}),n({highlightedElement:I,highlightItem:oe,highlightFirstItem:pe,highlightSelected:ve,getItems:b}),Et({modelValue:x,onValueChange:te,multiple:s,orientation:r,dir:S,disabled:d,highlightOnHover:l,highlightedElement:I,isVirtual:L,virtualFocusHook:j,virtualKeydownHook:W,virtualHighlightHook:ie,by:e.by,firstValue:z,selectionBehavior:p,focusable:O,onLeave:de,onEnter:Re,changeHighlight:k,onKeydownEnter:E,onKeydownNavigation:me,onKeydownTypeAhead:P,onCompositionStart:ue,onCompositionEnd:Be,highlightFirstItem:pe}),(u,m)=>(C(),q(o($),{ref_key:"primitiveElement",ref:g,as:u.as,"as-child":u.asChild,dir:o(S),"data-disabled":o(d)?"":void 0,onPointerleave:de,onFocusout:m[0]||(m[0]=async v=>{const _=v.relatedTarget||v.target;await Q(),I.value&&o(h)&&!o(h).contains(_)&&de(v)})},{default:B(()=>[T(u.$slots,"default",{modelValue:o(x)}),o(w)&&u.name?(C(),q(o(yt),{key:0,name:u.name,value:o(x),disabled:o(d),required:u.required},null,8,["name","value","disabled","required"])):H("v-if",!0)]),_:3},8,["as","as-child","dir","data-disabled"]))}}),Jt=Ct,wt=R({__name:"ListboxContent",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(a){const{CollectionSlot:n}=le(),t=re(),e=qe(!1,10);return(i,s)=>(C(),q(o(n),null,{default:B(()=>[Fe(o($),{role:"listbox",as:i.as,"as-child":i.asChild,tabindex:o(t).focusable.value?o(t).highlightedElement.value?"-1":"0":"-1","aria-orientation":o(t).orientation.value,"aria-multiselectable":!!o(t).multiple.value,"data-orientation":o(t).orientation.value,onMousedown:s[0]||(s[0]=ge(l=>e.value=!0,["left"])),onFocus:s[1]||(s[1]=l=>{o(e)||o(t).onEnter(l)}),onKeydown:[s[2]||(s[2]=ee(l=>{o(t).orientation.value==="vertical"&&(l.key==="ArrowLeft"||l.key==="ArrowRight")||o(t).orientation.value==="horizontal"&&(l.key==="ArrowUp"||l.key==="ArrowDown")||(l.preventDefault(),o(t).focusable.value&&o(t).onKeydownNavigation(l))},["down","up","left","right","home","end"])),ee(o(t).onKeydownEnter,["enter"]),o(t).onKeydownTypeAhead]},{default:B(()=>[T(i.$slots,"default")]),_:3},8,["as","as-child","tabindex","aria-orientation","aria-multiselectable","data-orientation","onKeydown"])]),_:3}))}}),Xt=wt,_t=R({__name:"ListboxFilter",props:{modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},emits:["update:modelValue"],setup(a,{emit:n}){const t=a,i=Ae(t,"modelValue",n,{defaultValue:"",passive:t.modelValue===void 0}),s=re(),{primitiveElement:l,currentElement:r}=fe(),d=F(()=>t.disabled||s.disabled.value||!1),p=V();return We(()=>p.value=s.highlightedElement.value?.id),Me(()=>{s.focusable.value=!1,setTimeout(()=>{t.autoFocus&&r.value?.focus()},1)}),Ue(()=>{s.focusable.value=!0}),(f,b)=>(C(),q(o($),{ref_key:"primitiveElement",ref:l,as:f.as,"as-child":f.asChild,value:o(i),disabled:d.value?"":void 0,"data-disabled":d.value?"":void 0,"aria-disabled":d.value??void 0,"aria-activedescendant":p.value,type:"text",onKeydown:[ee(ge(o(s).onKeydownNavigation,["prevent"]),["down","up","home","end"]),ee(o(s).onKeydownEnter,["enter"])],onInput:b[0]||(b[0]=c=>{i.value=c.target.value,o(s).highlightFirstItem()}),onCompositionstart:o(s).onCompositionStart,onCompositionend:o(s).onCompositionEnd},{default:B(()=>[T(f.$slots,"default",{modelValue:o(i)})]),_:3},8,["as","as-child","value","disabled","data-disabled","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"]))}}),Qt=_t;const[Zt,St]=he("ListboxGroup");var zt=R({__name:"ListboxGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(a){const n=a,t=ke(void 0,"reka-listbox-group");return St({id:t}),(e,i)=>(C(),q(o($),K({role:"group"},n,{"aria-labelledby":o(t)}),{default:B(()=>[T(e.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),ei=zt;const It="listbox.select",[At,qt]=he("ListboxItem");var Ft=R({__name:"ListboxItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},emits:["select"],setup(a,{emit:n}){const t=a,e=n,i=ke(void 0,"reka-listbox-item"),{CollectionItem:s}=le(),{forwardRef:l,currentElement:r}=Oe(),d=re(),p=F(()=>r.value===d.highlightedElement.value),f=F(()=>xt(d.modelValue.value,t.value,d.by)),b=F(()=>d.disabled.value||t.disabled);async function c(h){e("select",h),!h?.defaultPrevented&&!b.value&&h&&(d.onValueChange(t.value),d.changeHighlight(r.value))}function g(h){const y={originalEvent:h,value:t.value};Ye(It,c,y)}return qt({isSelected:f}),(h,y)=>(C(),q(o(s),{value:h.value},{default:B(()=>[Ge([p.value,f.value],()=>Fe(o($),K({id:o(i)},h.$attrs,{ref:o(l),role:"option",tabindex:o(d).focusable.value?p.value?"0":"-1":-1,"aria-selected":f.value,as:h.as,"as-child":h.asChild,disabled:b.value?"":void 0,"data-disabled":b.value?"":void 0,"data-highlighted":p.value?"":void 0,"data-state":f.value?"checked":"unchecked",onClick:g,onKeydown:ee(ge(g,["prevent"]),["space"]),onPointermove:y[0]||(y[0]=()=>{o(d).highlightedElement.value!==o(r)&&o(d).highlightOnHover.value&&!o(d).focusable.value&&o(d).changeHighlight(o(r),!1)})}),{default:B(()=>[T(h.$slots,"default")]),_:3},16,["id","tabindex","aria-selected","as","as-child","disabled","data-disabled","data-highlighted","data-state","onKeydown"]),y,1)]),_:3},8,["value"]))}}),ti=Ft,Mt=R({__name:"ListboxItemIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(a){const n=a;Oe();const t=At();return(e,i)=>o(t).isSelected.value?(C(),q(o($),K({key:0,"aria-hidden":"true"},n),{default:B(()=>[T(e.$slots,"default")]),_:3},16)):H("v-if",!0)}}),ii=Mt;function G(a,n,t){let e=t.initialDeps??[],i;function s(){var l,r,d,p;let f;t.key&&((l=t.debug)!=null&&l.call(t))&&(f=Date.now());const b=a();if(!(b.length!==e.length||b.some((h,y)=>e[y]!==h)))return i;e=b;let g;if(t.key&&((r=t.debug)!=null&&r.call(t))&&(g=Date.now()),i=n(...b),t.key&&((d=t.debug)!=null&&d.call(t))){const h=Math.round((Date.now()-f)*100)/100,y=Math.round((Date.now()-g)*100)/100,S=y/16,w=(z,M)=>{for(z=String(z);z.length<M;)z=" "+z;return z};console.info(`%câ± ${w(y,5)} /${w(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*S,120))}deg 100% 31%);`,t?.key)}return(p=t?.onChange)==null||p.call(t,i),i}return s.updateDeps=l=>{e=l},s}function we(a,n){if(a===void 0)throw new Error("Unexpected undefined");return a}const kt=(a,n)=>Math.abs(a-n)<1.01,Ot=(a,n,t)=>{let e;return function(...i){a.clearTimeout(e),e=a.setTimeout(()=>n.apply(this,i),t)}},_e=a=>{const{offsetWidth:n,offsetHeight:t}=a;return{width:n,height:t}},Vt=a=>a,Tt=a=>{const n=Math.max(a.startIndex-a.overscan,0),t=Math.min(a.endIndex+a.overscan,a.count-1),e=[];for(let i=n;i<=t;i++)e.push(i);return e},Bt=(a,n)=>{const t=a.scrollElement;if(!t)return;const e=a.targetWindow;if(!e)return;const i=l=>{const{width:r,height:d}=l;n({width:Math.round(r),height:Math.round(d)})};if(i(_e(t)),!e.ResizeObserver)return()=>{};const s=new e.ResizeObserver(l=>{const r=()=>{const d=l[0];if(d?.borderBoxSize){const p=d.borderBoxSize[0];if(p){i({width:p.inlineSize,height:p.blockSize});return}}i(_e(t))};a.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(r):r()});return s.observe(t,{box:"border-box"}),()=>{s.unobserve(t)}},Se={passive:!0},ze=typeof window>"u"?!0:"onscrollend"in window,Rt=(a,n)=>{const t=a.scrollElement;if(!t)return;const e=a.targetWindow;if(!e)return;let i=0;const s=a.options.useScrollendEvent&&ze?()=>{}:Ot(e,()=>{n(i,!1)},a.options.isScrollingResetDelay),l=f=>()=>{const{horizontal:b,isRtl:c}=a.options;i=b?t.scrollLeft*(c&&-1||1):t.scrollTop,s(),n(i,f)},r=l(!0),d=l(!1);d(),t.addEventListener("scroll",r,Se);const p=a.options.useScrollendEvent&&ze;return p&&t.addEventListener("scrollend",d,Se),()=>{t.removeEventListener("scroll",r),p&&t.removeEventListener("scrollend",d)}},Lt=(a,n,t)=>{if(n?.borderBoxSize){const e=n.borderBoxSize[0];if(e)return Math.round(e[t.options.horizontal?"inlineSize":"blockSize"])}return a[t.options.horizontal?"offsetWidth":"offsetHeight"]},Dt=(a,{adjustments:n=0,behavior:t},e)=>{var i,s;const l=a+n;(s=(i=e.scrollElement)==null?void 0:i.scrollTo)==null||s.call(i,{[e.options.horizontal?"left":"top"]:l,behavior:t})};class Kt{constructor(n){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const e=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(i=>{i.forEach(s=>{const l=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()})}));return{disconnect:()=>{var i;(i=e())==null||i.disconnect(),t=null},observe:i=>{var s;return(s=e())==null?void 0:s.observe(i,{box:"border-box"})},unobserve:i=>{var s;return(s=e())==null?void 0:s.unobserve(i)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([e,i])=>{typeof i>"u"&&delete t[e]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Vt,rangeExtractor:Tt,onChange:()=>{},measureElement:Lt,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...t}},this.notify=t=>{var e,i;(i=(e=this.options).onChange)==null||i.call(e,this,t)},this.maybeNotify=G(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const e=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==e){if(this.cleanup(),!e){this.maybeNotify();return}this.scrollElement=e,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,e)=>{const i=new Map,s=new Map;for(let l=e-1;l>=0;l--){const r=t[l];if(i.has(r.lane))continue;const d=s.get(r.lane);if(d==null||r.end>d.end?s.set(r.lane,r):r.end<d.end&&i.set(r.lane,!0),i.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((l,r)=>l.end===r.end?l.index-r.index:l.end-r.end)[0]:void 0},this.getMeasurementOptions=G(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(t,e,i,s,l)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:e,scrollMargin:i,getItemKey:s,enabled:l}),{key:!1}),this.getMeasurements=G(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:e,scrollMargin:i,getItemKey:s,enabled:l},r)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(f=>{this.itemSizeCache.set(f.key,f.size)}));const d=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const p=this.measurementsCache.slice(0,d);for(let f=d;f<t;f++){const b=s(f),c=this.options.lanes===1?p[f-1]:this.getFurthestMeasurement(p,f),g=c?c.end+this.options.gap:e+i,h=r.get(b),y=typeof h=="number"?h:this.options.estimateSize(f),S=g+y,w=c?c.lane:f%this.options.lanes;p[f]={index:f,start:g,size:y,end:S,key:b,lane:w}}return this.measurementsCache=p,p},{key:!1,debug:()=>this.options.debug}),this.calculateRange=G(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(t,e,i,s)=>this.range=t.length>0&&e>0?Pt({measurements:t,outerSize:e,scrollOffset:i,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=G(()=>{let t=null,e=null;const i=this.calculateRange();return i&&(t=i.startIndex,e=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,t,e]),[this.options.rangeExtractor,this.options.overscan,this.options.count,t,e]},(t,e,i,s,l)=>s===null||l===null?[]:t({startIndex:s,endIndex:l,overscan:e,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const e=this.options.indexAttribute,i=t.getAttribute(e);return i?parseInt(i,10):(console.warn(`Missing attribute name '${e}={index}' on measured element.`),-1)},this._measureElement=(t,e)=>{const i=this.indexFromElement(t),s=this.measurementsCache[i];if(!s)return;const l=s.key,r=this.elementsCache.get(l);r!==t&&(r&&this.observer.unobserve(r),this.observer.observe(t),this.elementsCache.set(l,t)),t.isConnected&&this.resizeItem(i,this.options.measureElement(t,e,this))},this.resizeItem=(t,e)=>{const i=this.measurementsCache[t];if(!i)return;const s=this.itemSizeCache.get(i.key)??i.size,l=e-s;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,l,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,e)),this.notify(!1))},this.measureElement=t=>{if(!t){this.elementsCache.forEach((e,i)=>{e.isConnected||(this.observer.unobserve(e),this.elementsCache.delete(i))});return}this._measureElement(t,void 0)},this.getVirtualItems=G(()=>[this.getVirtualIndexes(),this.getMeasurements()],(t,e)=>{const i=[];for(let s=0,l=t.length;s<l;s++){const r=t[s],d=e[r];i.push(d)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const e=this.getMeasurements();if(e.length!==0)return we(e[Te(0,e.length-1,i=>we(e[i]).start,t)])},this.getOffsetForAlignment=(t,e,i=0)=>{const s=this.getSize(),l=this.getScrollOffset();e==="auto"&&(e=t>=l+s?"end":"start"),e==="center"?t+=(i-s)/2:e==="end"&&(t-=s);const r=this.getTotalSize()+this.options.scrollMargin-s;return Math.max(Math.min(r,t),0)},this.getOffsetForIndex=(t,e="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const i=this.measurementsCache[t];if(!i)return;const s=this.getSize(),l=this.getScrollOffset();if(e==="auto")if(i.end>=l+s-this.options.scrollPaddingEnd)e="end";else if(i.start<=l+this.options.scrollPaddingStart)e="start";else return[l,e];const r=e==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(r,e,i.size),e]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(t,{align:e="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,e),{adjustments:void 0,behavior:i})},this.scrollToIndex=(t,{align:e="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),t=Math.max(0,Math.min(t,this.options.count-1));let s=0;const l=10,r=p=>{if(!this.targetWindow)return;const f=this.getOffsetForIndex(t,p);if(!f){console.warn("Failed to get offset for index:",t);return}const[b,c]=f;this._scrollToOffset(b,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const g=this.getScrollOffset(),h=this.getOffsetForIndex(t,c);if(!h){console.warn("Failed to get offset for index:",t);return}kt(h[0],g)||d(c)})},d=p=>{this.targetWindow&&(s++,s<l?this.targetWindow.requestAnimationFrame(()=>r(p)):console.warn(`Failed to scroll to index ${t} after ${l} attempts.`))};r(e)},this.scrollBy=(t,{behavior:e}={})=>{e==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:e})},this.getTotalSize=()=>{var t;const e=this.getMeasurements();let i;if(e.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((t=e[e.length-1])==null?void 0:t.end)??0;else{const s=Array(this.options.lanes).fill(null);let l=e.length-1;for(;l>=0&&s.some(r=>r===null);){const r=e[l];s[r.lane]===null&&(s[r.lane]=r.end),l--}i=Math.max(...s.filter(r=>r!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(t,{adjustments:e,behavior:i})=>{this.options.scrollToFn(t,{behavior:i,adjustments:e},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(n)}}const Te=(a,n,t,e)=>{for(;a<=n;){const i=(a+n)/2|0,s=t(i);if(s<e)a=i+1;else if(s>e)n=i-1;else return i}return a>0?a-1:0};function Pt({measurements:a,outerSize:n,scrollOffset:t,lanes:e}){const i=a.length-1,s=d=>a[d].start;if(a.length<=e)return{startIndex:0,endIndex:i};let l=Te(0,i,s,t),r=l;if(e===1)for(;r<i&&a[r].end<t+n;)r++;else if(e>1){const d=Array(e).fill(0);for(;r<i&&d.some(f=>f<t+n);){const f=a[r];d[f.lane]=f.end,r++}const p=Array(e).fill(t+n);for(;l>=0&&p.some(f=>f>=t);){const f=a[l];p[f.lane]=f.start,l--}l=Math.max(0,l-l%e),r=Math.min(i,r+(e-1-r%e))}return{startIndex:l,endIndex:r}}function Ht(a){const n=new Kt(o(a)),t=Je(n),e=n._didMount();return ne(()=>o(a).getScrollElement(),i=>{i&&n._willUpdate()},{immediate:!0}),ne(()=>o(a),i=>{n.setOptions({...i,onChange:(s,l)=>{var r;be(t),(r=i.onChange)==null||r.call(i,s,l)}}),n._willUpdate(),be(t)},{immediate:!0}),Xe(e),t}function $t(a){return Ht(F(()=>({observeElementRect:Bt,observeElementOffset:Rt,scrollToFn:Dt,...o(a)})))}var Nt=R({__name:"ListboxVirtualizer",props:{options:{type:Array,required:!0},overscan:{type:Number,required:!1},estimateSize:{type:Number,required:!1},textContent:{type:Function,required:!1}},setup(a){const n=a,t=Ve(),e=re(),i=Qe(),{getItems:s}=le();e.isVirtual.value=!0;const l=F(()=>{const c=i.value;if(c){const g=window.getComputedStyle(c);return{start:Number.parseFloat(g.paddingBlockStart||g.paddingTop),end:Number.parseFloat(g.paddingBlockEnd||g.paddingBottom)}}else return{start:0,end:0}}),r=$t({get scrollPaddingStart(){return l.value.start},get scrollPaddingEnd(){return l.value.end},get count(){return n.options.length},get horizontal(){return e.orientation.value==="horizontal"},estimateSize(){return n.estimateSize??28},getScrollElement(){return i.value},overscan:n.overscan??12}),d=F(()=>r.value.getVirtualItems().map(c=>{const g=t.default({option:n.options[c.index],virtualizer:r.value,virtualItem:c})[0],h=g.type===ae&&Array.isArray(g.children)?g.children[0]:g;return{item:c,is:Ze(h,{key:`${c.key}`,"data-index":c.index,"aria-setsize":n.options.length,"aria-posinset":c.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${c.start}px)`,overflowAnchor:"none"}})}}));e.virtualFocusHook.on(c=>{const g=n.options.findIndex(h=>Array.isArray(e.modelValue.value)?D(h,e.modelValue.value[0],e.by):D(h,e.modelValue.value,e.by));g!==-1?(c?.preventDefault(),r.value.scrollToIndex(g,{align:"start"}),requestAnimationFrame(()=>{const h=Ce(i.value);h&&(e.changeHighlight(h),c&&h?.focus())})):e.highlightFirstItem()}),e.virtualHighlightHook.on(c=>{const g=n.options.findIndex(h=>D(h,c,e.by));r.value.scrollToIndex(g,{align:"start"}),requestAnimationFrame(()=>{const h=Ce(i.value);h&&e.changeHighlight(h)})});const p=qe("",1e3),f=F(()=>{const c=g=>n.textContent?n.textContent(g):g?.toString().toLowerCase();return n.options.map((g,h)=>({index:h,textContent:c(g)}))});function b(c,g){if(!e.firstValue?.value||!e.multiple.value||!Array.isArray(e.modelValue.value))return;const y=s().filter(w=>w.ref.dataset.disabled!=="").find(w=>w.ref===e.highlightedElement.value)?.value;if(!y)return;let S=null;switch(g){case"prev":case"next":{S=se(n.options,e.firstValue.value,y);break}case"first":{S=se(n.options,e.firstValue.value,n.options?.[0]);break}case"last":{S=se(n.options,e.firstValue.value,n.options?.[n.options.length-1]);break}}e.modelValue.value=S}return e.virtualKeydownHook.on(c=>{const g=c.altKey||c.ctrlKey||c.metaKey;if(c.key==="Tab"&&!g)return;let y=gt[c.key];if(g&&c.key==="a"&&e.multiple.value?(c.preventDefault(),e.modelValue.value=[...n.options],y="last"):c.shiftKey&&y&&b(c,y),["first","last"].includes(y)){c.preventDefault();const S=y==="first"?0:n.options.length-1;r.value.scrollToIndex(S),requestAnimationFrame(()=>{const w=s(),z=y==="first"?w[0]:w[w.length-1];z&&e.changeHighlight(z.ref)})}else if(!y&&!g){p.value+=c.key;const S=Number(et()?.getAttribute("data-index")),w=f.value[S].textContent,z=f.value.map(x=>x.textContent??""),M=ft(z,p.value,w),O=f.value.find(x=>x.textContent===M);O&&(r.value.scrollToIndex(O.index,{align:"start"}),requestAnimationFrame(()=>{const x=i.value.querySelector(`[data-index="${O.index}"]`);x instanceof HTMLElement&&e.changeHighlight(x)}))}}),(c,g)=>(C(),Y("div",{"data-reka-virtualizer":"",style:it({position:"relative",width:"100%",height:`${o(r).getTotalSize()}px`})},[(C(!0),Y(ae,null,Ie(d.value,({is:h,item:y})=>(C(),q(tt(h),{key:y.index}))),128))],4))}}),si=Nt;const jt={slots:{root:"relative inline-flex items-center",base:["w-full rounded-md border-0 appearance-none placeholder:text-dimmed focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-dimmed",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute inset-y-0 end-0 flex items-center",trailingIcon:"shrink-0 text-dimmed"},variants:{fieldGroup:{horizontal:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-e-none group-not-only:group-last:rounded-s-none group-not-last:group-not-first:rounded-none"},vertical:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-b-none group-not-only:group-last:rounded-t-none group-not-last:group-not-first:rounded-none"}},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6"}},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-muted file:outline-none"}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},Wt=["id","type","value","name","placeholder","disabled","required","autocomplete"],ni=Object.assign({inheritAttrs:!1},{__name:"UInput",props:{as:{type:null,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},type:{type:null,required:!1,default:"text"},placeholder:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},autocomplete:{type:null,required:!1,default:"off"},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1,default:0},disabled:{type:Boolean,required:!1},highlight:{type:Boolean,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},modelModifiers:{type:Object,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},icon:{type:[String,Object],required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:[String,Object],required:!1},trailing:{type:Boolean,required:!1},trailingIcon:{type:[String,Object],required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:[String,Object],required:!1}},emits:["update:modelValue","blur","change"],setup(a,{expose:n,emit:t}){const e=a,i=t,s=Ve(),l=st(e,"modelValue",i,{defaultValue:e.defaultValue}),r=nt(),{emitFormBlur:d,emitFormInput:p,emitFormChange:f,size:b,color:c,id:g,name:h,highlight:y,disabled:S,emitFormFocus:w,ariaAttrs:z}=at(e,{deferInputValidation:!0}),{orientation:M,size:O}=lt(e),{isLeading:x,isTrailing:te,leadingIconName:I,trailingIconName:N}=rt(e),L=F(()=>O.value||b.value),A=F(()=>ye({extend:ye(jt),...r.ui?.input||{}})({type:e.type,color:c.value,variant:e.variant,size:L?.value,loading:e.loading,highlight:y.value,leading:x.value||!!e.avatar||!!s.leading,trailing:te.value||!!s.trailing,fieldGroup:M.value})),j=V(null);function W(E){e.modelModifiers?.trim&&(E=E?.trim()??null),(e.modelModifiers?.number||e.type==="number")&&(E=dt(E)),e.modelModifiers?.nullable&&(E||=null),e.modelModifiers?.optional&&(E||=void 0),l.value=E,p()}function ie(E){e.modelModifiers?.lazy||W(E.target.value)}function J(E){const P=E.target.value;e.modelModifiers?.lazy&&W(P),e.modelModifiers?.trim&&(E.target.value=P.trim()),f(),i("change",E)}function k(E){d(),i("blur",E)}function oe(){e.autofocus&&j.value?.focus()}return Me(()=>{setTimeout(()=>{oe()},e.autofocusDelay)}),n({inputRef:j}),(E,P)=>(C(),q(o($),{as:a.as,class:Z(A.value.root({class:[e.ui?.root,e.class]}))},{default:B(()=>[ot("input",K({id:o(g),ref_key:"inputRef",ref:j,type:a.type,value:o(l),name:o(h),placeholder:a.placeholder,class:A.value.base({class:e.ui?.base}),disabled:o(S),required:a.required,autocomplete:a.autocomplete},{...E.$attrs,...o(z)},{onInput:ie,onBlur:k,onChange:J,onFocus:P[0]||(P[0]=(...ue)=>o(w)&&o(w)(...ue))}),null,16,Wt),T(E.$slots,"default",{ui:A.value}),o(x)||a.avatar||s.leading?(C(),Y("span",{key:0,class:Z(A.value.leading({class:e.ui?.leading}))},[T(E.$slots,"leading",{ui:A.value},()=>[o(x)&&o(I)?(C(),q(xe,{key:0,name:o(I),class:Z(A.value.leadingIcon({class:e.ui?.leadingIcon}))},null,8,["name","class"])):a.avatar?(C(),q(ut,K({key:1,size:e.ui?.leadingAvatarSize||A.value.leadingAvatarSize()},a.avatar,{class:A.value.leadingAvatar({class:e.ui?.leadingAvatar})}),null,16,["size","class"])):H("",!0)])],2)):H("",!0),o(te)||s.trailing?(C(),Y("span",{key:1,class:Z(A.value.trailing({class:e.ui?.trailing}))},[T(E.$slots,"trailing",{ui:A.value},()=>[o(N)?(C(),q(xe,{key:0,name:o(N),class:Z(A.value.trailingIcon({class:e.ui?.trailingIcon}))},null,8,["name","class"])):H("",!0)])],2)):H("",!0)]),_:3},8,["as","class"]))}});export{ti as L,yt as V,ni as _,ii as a,Qt as b,Xt as c,si as d,ei as e,Jt as f,re as g,Zt as i,pt as u};
