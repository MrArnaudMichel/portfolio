import{J as re,L as ye,y as ae,S as X,H as x,U as M,bw as pe,c as h,d,f as w,w as C,A as k,e as g,X as be,C as T,g as A,D as y,n as f,B as v,a3 as P,t as j,bt as we,aw as xe,by as ke,F as R,a4 as F,P as le,b as Se,bz as ie,ah as O,E as Ee,R as Le,br as Ce,a7 as Te,W as We}from"./cCslBcx9.js";import{p as $e,v as ze,i as He,a as oe,d as Be,c as Ve,r as Oe,b as Ae,n as ue,f as z,e as U,g as ce,s as qe,m as W,h as E,j as Y,k as De,l as G,M as Me}from"./FZUjLyOF.js";import{u as Pe,_ as je}from"./BmTW9hdB.js";const Ie={slots:{root:"relative",container:"flex flex-col mx-auto max-w-2xl",header:"",meta:"flex items-center gap-3 mb-2",date:"text-sm/6 text-toned truncate",badge:"",title:"relative text-xl text-pretty font-semibold text-highlighted",description:"text-base text-pretty text-muted mt-1",imageWrapper:"relative overflow-hidden rounded-lg aspect-[16/9] mt-5 group/changelog-version-image",image:"object-cover object-top w-full h-full",authors:"flex flex-wrap gap-x-4 gap-y-1.5",footer:"border-t border-default pt-5 flex items-center justify-between",indicator:"absolute start-0 top-0 w-32 hidden lg:flex items-center justify-end gap-3 min-w-0",dot:"size-4 rounded-full bg-default ring ring-default flex items-center justify-center my-1",dotInner:"size-2 rounded-full bg-primary"},variants:{body:{false:{footer:"mt-5"}},badge:{false:{meta:"lg:hidden"}},to:{true:{image:"transform transition-transform duration-200 group-hover/changelog-version-image:scale-105"}},hidden:{true:{date:"lg:hidden"}}}},Re=["datetime"],Fe=Object.assign({inheritAttrs:!1},{__name:"UChangelogVersion",props:{as:{type:null,required:!1,default:"article"},title:{type:String,required:!1},description:{type:String,required:!1},date:{type:[String,Date],required:!1},badge:{type:[String,Object],required:!1},authors:{type:Array,required:!1},image:{type:[String,Object],required:!1},indicator:{type:Boolean,required:!1,default:!0},to:{type:null,required:!1},target:{type:[String,Object,null],required:!1},onClick:{type:Function,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(e){const t=e,s=re(),{locale:n}=ye(),r=ae(),a=Pe(n.value.code),[l,i]=X(),[c,u]=X({props:{hidden:{type:Boolean,default:!1}}}),o=x(()=>M({extend:M(Ie),...r.ui?.changelogVersion||{}})({to:!!t.to||!!t.onClick})),p=x(()=>{if(t.date)try{return a.custom(new Date(t.date),{dateStyle:"medium"})}catch{return t.date}}),b=x(()=>{if(t.date)try{return new Date(t.date)?.toISOString()}catch{return}}),S=x(()=>(s.title&&pe(s.title())||t.title||"Version link").trim());return(m,H)=>(d(),h(R,null,[w(y(l),null,{default:C(()=>[e.to?(d(),k(be,T({key:0,"aria-label":S.value},{to:e.to,target:e.target,...m.$attrs},{class:"focus:outline-none peer",tabindex:"-1",raw:""}),{default:C(()=>H[0]||(H[0]=[A("span",{class:"absolute inset-0","aria-hidden":"true"},null,-1)])),_:1,__:[0]},16,["aria-label"])):g("",!0)]),_:1}),w(y(c),null,{default:C(({hidden:B})=>[p.value?(d(),h("time",{key:0,datetime:b.value,class:f(o.value.date({class:t.ui?.date,hidden:B}))},[v(m.$slots,"date",{},()=>[P(j(p.value),1)])],10,Re)):g("",!0)]),_:3}),w(y(le),{as:e.as,class:f(o.value.root({class:[t.ui?.root,t.class]})),onClick:e.onClick},{default:C(()=>[t.indicator||s.indicator?(d(),h("div",{key:0,class:f(o.value.indicator({class:t.ui?.indicator}))},[v(m.$slots,"indicator",{ui:o.value},()=>[w(y(u)),A("div",{class:f(o.value.dot({class:t.ui?.dot}))},[A("div",{class:f(o.value.dotInner({class:t.ui?.dotInner}))},null,2)],2)])],2)):g("",!0),A("div",{class:f(o.value.container({class:t.ui?.container}))},[s.header||p.value||s.date||e.badge||s.badge||e.title||s.title||e.description||s.description||e.image||s.image?(d(),h("div",{key:0,class:f(o.value.header({class:t.ui?.header}))},[v(m.$slots,"header",{},()=>[p.value||s.date||e.badge||s.badge?(d(),h("div",{key:0,class:f(o.value.meta({class:t.ui?.meta,badge:!!e.badge||!!s.badge||!t.indicator}))},[v(m.$slots,"badge",{ui:o.value},()=>[e.badge?(d(),k(we,T({key:0,color:"neutral",variant:"solid"},typeof e.badge=="string"?{label:e.badge}:e.badge,{class:o.value.badge({class:t.ui?.badge})}),null,16,["class"])):g("",!0)]),w(y(u),{hidden:!!t.indicator},null,8,["hidden"])],2)):g("",!0),e.title||s.title?(d(),h("h2",{key:1,class:f(o.value.title({class:t.ui?.title}))},[w(y(i)),v(m.$slots,"title",{},()=>[P(j(e.title),1)])],2)):g("",!0),e.description||s.description?(d(),h("div",{key:2,class:f(o.value.description({class:t.ui?.description}))},[v(m.$slots,"description",{},()=>[P(j(e.description),1)])],2)):g("",!0),e.image||s.image?(d(),h("div",{key:3,class:f(o.value.imageWrapper({class:t.ui?.imageWrapper}))},[v(m.$slots,"image",{ui:o.value},()=>[e.image?(d(),k(xe(y(ke)),T({key:0},typeof e.image=="string"?{src:e.image,alt:e.title}:{alt:e.title,...e.image},{class:o.value.image({class:t.ui?.image,to:!!e.to})}),null,16,["class"])):g("",!0)]),w(y(i))],2)):g("",!0)])],2)):g("",!0),v(m.$slots,"body"),s.footer||e.authors?.length||s.authors||s.actions?(d(),h("div",{key:1,class:f(o.value.footer({class:t.ui?.footer,body:!!s.body}))},[v(m.$slots,"footer",{},()=>[e.authors?.length||s.authors?(d(),h("div",{key:0,class:f(o.value.authors({class:t.ui?.authors}))},[v(m.$slots,"authors",{},()=>[(d(!0),h(R,null,F(e.authors,(B,ve)=>(d(),k(je,T({key:ve},{ref_for:!0},B),null,16))),128))])],2)):g("",!0),v(m.$slots,"actions")])],2)):g("",!0)],2)]),_:3},8,["as","class","onClick"])],64))}}),Ne=50,K=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Ue=()=>({time:0,x:K(),y:K()}),Xe={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function J(e,t,s,n){const r=s[t],{length:a,position:l}=Xe[t],i=r.current,c=s.time;r.current=e[`scroll${l}`],r.scrollLength=e[`scroll${a}`]-e[`client${a}`],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=$e(0,r.scrollLength,r.current);const u=n-c;r.velocity=u>Ne?0:ze(r.current-i,u)}function Ye(e,t,s){J(e,"x",t,s),J(e,"y",t,s),t.time=s}function Ge(e,t){const s={x:0,y:0};let n=e;for(;n&&n!==t;)if(He(n))s.x+=n.offsetLeft,s.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const r=n.getBoundingClientRect();n=n.parentElement;const a=n.getBoundingClientRect();s.x+=r.left-a.left,s.y+=r.top-a.top}else if(n instanceof SVGGraphicsElement){const{x:r,y:a}=n.getBBox();s.x+=r,s.y+=a;let l=null,i=n.parentNode;for(;!l;)i.tagName==="svg"&&(l=i),i=n.parentNode;n=l}else break;return s}const N={start:0,center:.5,end:1};function Q(e,t,s=0){let n=0;if(e in N&&(e=N[e]),typeof e=="string"){const r=parseFloat(e);e.endsWith("px")?n=r:e.endsWith("%")?e=r/100:e.endsWith("vw")?n=r/100*document.documentElement.clientWidth:e.endsWith("vh")?n=r/100*document.documentElement.clientHeight:e=r}return typeof e=="number"&&(n=t*e),s+n}const Ke=[0,0];function Je(e,t,s,n){let r=Array.isArray(e)?e:Ke,a=0,l=0;return typeof e=="number"?r=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?r=e.split(" "):r=[e,N[e]?e:"0"]),a=Q(r[0],s,n),l=Q(r[1],t),a-l}const Qe={All:[[0,0],[1,1]]},Ze={x:0,y:0};function _e(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function et(e,t,s){const{offset:n=Qe.All}=s,{target:r=e,axis:a="y"}=s,l=a==="y"?"height":"width",i=r!==e?Ge(r,e):Ze,c=r===e?{width:e.scrollWidth,height:e.scrollHeight}:_e(r),u={width:e.clientWidth,height:e.clientHeight};t[a].offset.length=0;let o=!t[a].interpolate;const p=n.length;for(let b=0;b<p;b++){const S=Je(n[b],u[l],c[l],i[a]);!o&&S!==t[a].interpolatorOffsets[b]&&(o=!0),t[a].offset[b]=S}o&&(t[a].interpolate=oe(t[a].offset,Be(n),{clamp:!1}),t[a].interpolatorOffsets=[...t[a].offset]),t[a].progress=Ve(0,1,t[a].interpolate(t[a].current))}function tt(e,t=e,s){if(s.x.targetOffset=0,s.y.targetOffset=0,t!==e){let n=t;for(;n&&n!==e;)s.x.targetOffset+=n.offsetLeft,s.y.targetOffset+=n.offsetTop,n=n.offsetParent}s.x.targetLength=t===e?t.scrollWidth:t.clientWidth,s.y.targetLength=t===e?t.scrollHeight:t.clientHeight,s.x.containerLength=e.clientWidth,s.y.containerLength=e.clientHeight}function st(e,t,s,n={}){return{measure:r=>{tt(e,n.target,s),Ye(e,s,r),(n.offset||n.target)&&et(e,s,n)},notify:()=>t(s)}}const q=new WeakMap;let L;const de=(e,t,s)=>(n,r)=>r&&r[0]?r[0][e+"Size"]:Ae(n)&&"getBBox"in n?n.getBBox()[t]:n[s],nt=de("inline","width","offsetWidth"),rt=de("block","height","offsetHeight");function at({target:e,borderBoxSize:t}){var s;(s=q.get(e))==null||s.forEach(n=>{n(e,{get width(){return nt(e,t)},get height(){return rt(e,t)}})})}function lt(e){e.forEach(at)}function it(){typeof ResizeObserver>"u"||(L=new ResizeObserver(lt))}function ot(e,t){L||it();const s=Oe(e);return s.forEach(n=>{let r=q.get(n);r||(r=new Set,q.set(n,r)),r.add(t),L?.observe(n)}),()=>{s.forEach(n=>{const r=q.get(n);r?.delete(t),r?.size||L?.unobserve(n)})}}const D=new Set;let $;function ut(){$=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};D.forEach(t=>t(e))},window.addEventListener("resize",$)}function ct(e){return D.add(e),$||ut(),()=>{D.delete(e),!D.size&&typeof $=="function"&&(window.removeEventListener("resize",$),$=void 0)}}function dt(e,t){return typeof e=="function"?ct(e):ot(e,t)}const V=new WeakMap,Z=new WeakMap,I=new WeakMap,_=e=>e===document.scrollingElement?window:e;function fe(e,{container:t=document.scrollingElement,...s}={}){if(!t)return ue;let n=I.get(t);n||(n=new Set,I.set(t,n));const r=Ue(),a=st(t,e,r,s);if(n.add(a),!V.has(t)){const i=()=>{for(const p of n)p.measure(ce.timestamp);z.preUpdate(c)},c=()=>{for(const p of n)p.notify()},u=()=>z.read(i);V.set(t,u);const o=_(t);window.addEventListener("resize",u,{passive:!0}),t!==document.documentElement&&Z.set(t,dt(t,u)),o.addEventListener("scroll",u,{passive:!0}),u()}const l=V.get(t);return z.read(l,!1,!0),()=>{var i;U(l);const c=I.get(t);if(!c||(c.delete(a),c.size))return;const u=V.get(t);V.delete(t),u&&(_(t).removeEventListener("scroll",u),(i=Z.get(t))==null||i(),window.removeEventListener("resize",u))}}const ee=new Map;function ft(e){const t={value:0},s=fe(n=>{t.value=n[e.axis].progress*100},e);return{currentTime:t,cancel:s}}function ge({source:e,container:t,...s}){const{axis:n}=s;e&&(t=e);const r=ee.get(t)??new Map;ee.set(t,r);const a=s.target??"self",l=r.get(a)??{},i=n+(s.offset??[]).join(",");return l[i]||(l[i]=!s.target&&qe()?new ScrollTimeline({source:t,axis:n}):ft({container:t,...s})),l[i]}function me(e,t){let s;const n=()=>{const{currentTime:r}=t,l=(r===null?0:r.value)/100;s!==l&&e(l),s=l};return z.preUpdate(n,!0),()=>U(n)}function gt(e,t){const s=ge(t);return e.attachTimeline({timeline:t.target?void 0:s,observe:n=>(n.pause(),me(r=>{n.time=n.duration*r},s))})}function mt(e){return e.length===2}function ht(e,t){return mt(e)?fe(s=>{e(s[t.axis].progress,s)},t):me(e,ge(t))}function vt(e,{axis:t="y",container:s=document.scrollingElement,...n}={}){if(!s)return ue;const r={axis:t,container:s,...n};return typeof e=="function"?ht(e,r):gt(e,r)}function te(...e){const t=!Array.isArray(e[0]),s=t?0:-1,n=e[0+s],r=e[1+s],a=e[2+s],l=e[3+s],i=oe(r,a,l);return t?i(n):i}function he(e){const t=W(e()),s=()=>t.set(e()),n=()=>z.preRender(s,!1,!0);let r;const a=i=>{r=i.map(c=>c.on("change",n))},l=()=>{r.forEach(i=>i()),U(s)};return Se(()=>{l()}),{subscribe:a,unsubscribe:l,value:t,updateValue:s}}function yt(e){E.current=[];const{value:t,subscribe:s,unsubscribe:n,updateValue:r}=he(e);return s(E.current),E.current=void 0,ie(()=>{n(),E.current=[],r(),s(E.current),E.current=void 0}),t}function pt(e,t,s,n){if(typeof e=="function")return yt(e);const r=O(t)?x(()=>te(t.value,s,n)):te(t,s,n);return Array.isArray(e)?se(e,r):se([e],([a])=>O(r)?r.value(a):r(a))}function se(e,t){const s=[],{value:n,subscribe:r}=he(()=>{s.length=0;const a=e.length;for(let l=0;l<a;l++)s[l]=e[l].get();return O(t)?t.value(s):t(s)});return r(e),n}function ne(e){return typeof e=="number"?e:parseFloat(e)}function bt(e,t={}){let s=null;const n=W(Y(e)?ne(e.get()):e);let r=n.get(),a=()=>{};const l=()=>{s&&(s.stop(),s=null)},i=()=>{const c=s;c?.time===0&&c.sample(ce.delta),l();const u=O(t)?t.value:t;s=De({keyframes:[n.get(),r],velocity:n.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...u,onUpdate:a})};return Ee(()=>O(t)?t.value:t,()=>{n.attach((c,u)=>(r=c,a=u,z.update(i),n.get()),l)},{immediate:!0}),Y(e)&&e.on("change",c=>{n.set(ne(c))}),n}const wt=typeof window>"u";function xt(){return{scrollX:W(0),scrollY:W(0),scrollXProgress:W(0),scrollYProgress:W(0)}}function kt(e={}){const t=xt();return ie(s=>{if(wt)return;const n=vt((r,{x:a,y:l})=>{t.scrollX.set(a.current),t.scrollXProgress.set(a.progress),t.scrollY.set(l.current),t.scrollYProgress.set(l.progress)},{offset:y(e.offset),axis:y(e.axis),container:G(e.container),target:G(e.target)});s(()=>{n()})},{flush:"post"}),t}const St={slots:{root:"relative",container:"flex flex-col gap-y-8 sm:gap-y-12 lg:gap-y-16",indicator:"absolute hidden lg:block overflow-hidden inset-y-3 start-32 h-full w-px bg-border -ms-[8.5px]",beam:"absolute start-0 top-0 w-full bg-primary will-change-[height]"}},Tt={__name:"UChangelogVersions",props:{as:{type:null,required:!1},versions:{type:Array,required:!1},indicator:{type:Boolean,required:!1,default:!0},indicatorMotion:{type:[Boolean,Object],required:!1,default:!0},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(e){const t=e,s=re(),n=()=>We(s,["default","indicator"]),r=ae(),a=x(()=>Le(typeof t.indicatorMotion=="object"?t.indicatorMotion:{},{damping:30,restDelta:.001})),{scrollYProgress:l}=kt(),i=bt(l,a),c=pt(()=>`${i.get()*100}%`),u=x(()=>M({extend:M(St),...r.ui?.changelogVersions||{}})());return(o,p)=>(d(),k(y(le),{as:e.as,class:f(u.value.root({class:[t.ui?.root,t.class]}))},{default:C(()=>[t.indicator||s.indicator?(d(),h("div",{key:0,class:f(u.value.indicator({class:t.ui?.indicator}))},[v(o.$slots,"indicator",{},()=>[t.indicatorMotion?(d(),k(y(Me),{key:0,class:f(u.value.beam({class:t.ui?.beam})),style:Ce({height:y(c)})},null,8,["class","style"])):g("",!0)])],2)):g("",!0),e.versions?.length||s.default?(d(),h("div",{key:1,class:f(u.value.container({class:t.ui?.container}))},[v(o.$slots,"default",{},()=>[(d(!0),h(R,null,F(e.versions,(b,S)=>(d(),k(Fe,T({key:S,indicator:!!t.indicator},{ref_for:!0},b),Te({_:2},[F(n(),(m,H)=>({name:H,fn:C(B=>[v(o.$slots,H,T({ref_for:!0},B,{version:b}))])}))]),1040,["indicator"]))),128))])],2)):g("",!0)]),_:3},8,["as","class"]))}};export{Tt as _,Fe as a};
