import{_ as J}from"./BsE5UuVY.js";import{u as K,_ as X}from"./CSABQc1R.js";import{J as V,y as _,H as m,U as S,aU as Q,bx as Y,A as c,d as a,w as k,e as h,c as d,a0 as M,n as i,F as j,a4 as A,aw as H,D as z,P as F,L as Z,bw as ee,g as I,B as x,by as te,C as w,X as L,bt as ae,a3 as O,t as T,f as P,ae as se,a7 as re,W as ne,z as oe,q as le,ak as E,an as ie,bu as ue,al as R,am as G}from"./BF53QX8D.js";import{_ as de}from"./CdPerltO.js";const ce={slots:{root:"inline-flex flex-row-reverse justify-end",base:"relative rounded-full ring-bg first:me-0"},variants:{size:{"3xs":{base:"ring -me-0.5"},"2xs":{base:"ring -me-0.5"},xs:{base:"ring -me-0.5"},sm:{base:"ring-2 -me-1.5"},md:{base:"ring-2 -me-1.5"},lg:{base:"ring-2 -me-1.5"},xl:{base:"ring-3 -me-2"},"2xl":{base:"ring-3 -me-2"},"3xl":{base:"ring-3 -me-2"}}},defaultVariants:{size:"md"}},ge={__name:"UAvatarGroup",props:{as:{type:null,required:!1},size:{type:null,required:!1},max:{type:[Number,String],required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(t){const e=t,o=V(),C=_(),u=m(()=>S({extend:S(ce),...C.ui?.avatarGroup||{}})({size:e.size})),$=m(()=>typeof e.max=="string"?Number.parseInt(e.max,10):e.max),s=m(()=>{let v=o.default?.();return v?.length&&(v=v.flatMap(n=>typeof n.type=="symbol"?typeof n.children=="string"?void 0:n.children:n).filter(Boolean)),v||[]}),g=m(()=>s.value.length?!$.value||$.value<=0?[...s.value].reverse():[...s.value].slice(0,$.value).reverse():[]),q=m(()=>s.value.length?s.value.length-g.value.length:0);return Q(Y,m(()=>({size:e.size}))),(v,n)=>(a(),c(z(F),{as:t.as,class:i(u.value.root({class:[e.ui?.root,e.class]}))},{default:k(()=>[q.value>0?(a(),c(M,{key:0,text:`+${q.value}`,class:i(u.value.base({class:e.ui?.base}))},null,8,["text","class"])):h("",!0),(a(!0),d(j,null,A(g.value,(y,r)=>(a(),c(H(y),{key:r,class:i(u.value.base({class:e.ui?.base}))},null,8,["class"]))),128))]),_:1},8,["as","class"]))}},fe={slots:{root:"relative group/blog-post flex flex-col rounded-lg overflow-hidden",header:"relative overflow-hidden aspect-[16/9] w-full pointer-events-none",body:"min-w-0 flex-1 flex flex-col",footer:"",image:"object-cover object-top w-full h-full",title:"text-xl text-pretty font-semibold text-highlighted",description:"mt-1 text-base text-pretty",authors:"pt-4 mt-auto flex flex-wrap gap-x-3 gap-y-1.5",avatar:"",meta:"flex items-center gap-2 mb-2",date:"text-sm",badge:""},variants:{orientation:{horizontal:{root:"lg:grid lg:grid-cols-2 lg:items-center gap-x-8",body:"justify-center p-4 sm:p-6 lg:px-0"},vertical:{root:"flex flex-col",body:"p-4 sm:p-6"}},variant:{outline:{root:"bg-default ring ring-default",date:"text-toned",description:"text-muted"},soft:{root:"bg-elevated/50",date:"text-muted",description:"text-toned"},subtle:{root:"bg-elevated/50 ring ring-default",date:"text-muted",description:"text-toned"},ghost:{date:"text-toned",description:"text-muted",header:"shadow-lg rounded-lg"},naked:{root:"p-0 sm:p-0",date:"text-toned",description:"text-muted",header:"shadow-lg rounded-lg"}},to:{true:{root:["transition"],image:"transform transition-transform duration-200 group-hover/blog-post:scale-110",avatar:"transform transition-transform duration-200 hover:scale-115"}},image:{true:""}},compoundVariants:[{variant:"outline",to:!0,class:{root:"hover:bg-elevated/50"}},{variant:"soft",to:!0,class:{root:"hover:bg-elevated"}},{variant:"subtle",to:!0,class:{root:"hover:bg-elevated hover:ring-accented"}},{variant:"ghost",to:!0,class:{root:"hover:bg-elevated/50",header:["group-hover/blog-post:shadow-none","transition-all"]}},{variant:"ghost",to:!0,orientation:"vertical",class:{header:"group-hover/blog-post:rounded-b-none"}},{variant:"ghost",to:!0,orientation:"horizontal",class:{header:"group-hover/blog-post:rounded-r-none"}},{orientation:"vertical",image:!1,variant:"naked",class:{body:"p-0 sm:p-0"}}],defaultVariants:{variant:"outline"}},me=["datetime"],W=Object.assign({inheritAttrs:!1},{__name:"UBlogPost",props:{as:{type:null,required:!1,default:"article"},title:{type:String,required:!1},description:{type:String,required:!1},date:{type:[String,Date],required:!1},badge:{type:[String,Object],required:!1},authors:{type:Array,required:!1},image:{type:[String,Object],required:!1},orientation:{type:null,required:!1,default:"vertical"},variant:{type:null,required:!1},to:{type:null,required:!1},target:{type:[String,Object,null],required:!1},onClick:{type:Function,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(t){const e=t,o=V(),{locale:C}=Z(),u=_(),$=K(C.value.code),s=m(()=>S({extend:S(fe),...u.ui?.blogPost||{}})({orientation:e.orientation,variant:e.variant,image:!!e.image,to:!!e.to||!!e.onClick})),g=m(()=>{if(e.date)try{return $.custom(new Date(e.date),{dateStyle:"medium"})}catch{return e.date}}),q=m(()=>{if(e.date)try{return new Date(e.date)?.toISOString()}catch{return}}),v=m(()=>(o.title&&ee(o.title())||e.title||"Post link").trim());return(n,y)=>(a(),c(z(F),{as:t.as,"data-orientation":t.orientation,class:i(s.value.root({class:[e.ui?.root,e.class]})),onClick:t.onClick},{default:k(()=>[t.image||o.header?(a(),d("div",{key:0,class:i(s.value.header({class:e.ui?.header}))},[x(n.$slots,"header",{ui:s.value},()=>[(a(),c(H(z(te)),w(typeof t.image=="string"?{src:t.image,alt:t.title}:{alt:t.title,...t.image},{class:s.value.image({class:e.ui?.image,to:!!t.to})}),null,16,["class"]))])],2)):h("",!0),I("div",{class:i(s.value.body({class:e.ui?.body}))},[t.to?(a(),c(L,w({key:0,"aria-label":v.value},{to:t.to,target:t.target,...n.$attrs},{class:"focus:outline-none peer",tabindex:"-1",raw:""}),{default:k(()=>y[0]||(y[0]=[I("span",{class:"absolute inset-0","aria-hidden":"true"},null,-1)])),_:1,__:[0]},16,["aria-label"])):h("",!0),x(n.$slots,"body",{},()=>[g.value||o.date||t.badge||o.badge?(a(),d("div",{key:0,class:i(s.value.meta({class:e.ui?.meta}))},[x(n.$slots,"badge",{},()=>[t.badge?(a(),c(ae,w({key:0,color:"neutral",variant:"subtle"},typeof t.badge=="string"?{label:t.badge}:t.badge,{class:s.value.badge({class:e.ui?.badge})}),null,16,["class"])):h("",!0)]),g.value||o.date?(a(),d("time",{key:0,datetime:q.value,class:i(s.value.date({class:e.ui?.date}))},[x(n.$slots,"date",{},()=>[O(T(g.value),1)])],10,me)):h("",!0)],2)):h("",!0),t.title||o.title?(a(),d("h2",{key:1,class:i(s.value.title({class:e.ui?.title}))},[x(n.$slots,"title",{},()=>[O(T(t.title),1)])],2)):h("",!0),t.description||o.description?(a(),d("div",{key:2,class:i(s.value.description({class:e.ui?.description}))},[x(n.$slots,"description",{},()=>[O(T(t.description),1)])],2)):h("",!0),t.authors?.length||o.authors?(a(),d("div",{key:3,class:i(s.value.authors({class:e.ui?.authors}))},[x(n.$slots,"authors",{ui:s.value},()=>[t.authors?.length?(a(),d(j,{key:0},[t.authors.length>1?(a(),c(ge,{key:0},{default:k(()=>[(a(!0),d(j,null,A(t.authors,(r,f)=>(a(),c(L,{key:f,to:r.to,target:r.target,class:i(s.value.avatar({class:e.ui?.avatar,to:!!r.to})),raw:""},{default:k(()=>[P(M,w({ref_for:!0},r.avatar),null,16)]),_:2},1032,["to","target","class"]))),128))]),_:1})):(a(),c(X,se(w({key:1},t.authors[0])),null,16))],64)):h("",!0)])],2)):h("",!0)])],2),o.footer?(a(),d("div",{key:1,class:i(s.value.footer({class:e.ui?.footer}))},[x(n.$slots,"footer")],2)):h("",!0)]),_:3},8,["as","data-orientation","class","onClick"]))}}),ve={base:"flex flex-col gap-8 lg:gap-y-16",variants:{orientation:{horizontal:"sm:grid sm:grid-cols-2 lg:grid-cols-3",vertical:""}}},he={__name:"UBlogPosts",props:{as:{type:null,required:!1},posts:{type:Array,required:!1},orientation:{type:null,required:!1,default:"horizontal"},class:{type:null,required:!1}},setup(t){const e=t,o=V(),C=()=>ne(o,["default"]),u=_(),$=m(()=>S({extend:S(ve),...u.ui?.blogPosts||{}}));return(s,g)=>(a(),c(z(F),{as:t.as,"data-orientation":t.orientation,class:i($.value({orientation:t.orientation,class:e.class}))},{default:k(()=>[x(s.$slots,"default",{},()=>[(a(!0),d(j,null,A(t.posts,(q,v)=>(a(),c(W,w({key:v,orientation:t.orientation==="vertical"?"horizontal":"vertical"},{ref_for:!0},q),re({_:2},[A(C(),(n,y)=>({name:y,fn:k(r=>[x(s.$slots,y,w({ref_for:!0},r,{post:q}))])}))]),1040,["orientation"]))),128))])]),_:3},8,["as","data-orientation","class"]))}},$e=oe({__name:"index",async setup(t){let e,o;const C=le(),{data:u}=([e,o]=E(()=>R("projects",()=>G("projects").first())),e=await e,o(),e),{data:$}=([e,o]=E(()=>R(C.path,()=>G("posts").all(),"$-rA5Ms3IRd")),e=await e,o(),e),s=m(()=>{const r=($.value||[]).filter(l=>(l.path||"").startsWith("/projects/")),f=l=>{if(typeof l=="string"||l instanceof Date){const b=new Date(l).getTime();return Number.isFinite(b)?b:0}return 0};return r.slice().sort((l,b)=>{const B=!l?.end_date,N=!b?.end_date;if(B!==N)return B?-1:1;const U=f(l?.end_date??l?.date),p=f(b?.end_date??b?.date);if(p!==U)return p-U;const D=f(l?.start_date??l?.date);return f(b?.start_date??b?.date)-D})}),g=r=>r?new Date(r).toLocaleDateString("en",{year:"numeric",month:"short",day:"numeric"}):"",q=r=>{const f=r?.start_date??r?.date,l=!!r?.end_date;return f&&l?`${g(f)} – ${g(r.end_date)}`:f&&!l?`${g(f)} – Ongoing`:l?g(r.end_date):"Ongoing"},v=r=>q(r),n=u.value?.seo?.title||u.value?.title,y=u.value?.seo?.description||u.value?.description;return ie({title:n,ogTitle:n,description:y,ogDescription:y}),(r,f)=>{const l=J,b=W,B=he,N=de,U=ue;return a(),c(U,null,{default:k(()=>[P(l,w({class:"py-[50px]"},z(u)),null,16),P(N,null,{default:k(()=>[P(B,null,{default:k(()=>[(a(!0),d(j,null,A(z(s),(p,D)=>(a(),d("div",{key:D,class:i([D===0&&"col-span-full"])},[P(b,{authors:p.authors,badge:p.badge,date:v(p),description:p.description,image:p.image,orientation:D===0?"horizontal":"vertical",title:p.title,to:p.path,ui:{description:"line-clamp-2"},variant:"naked"},null,8,["authors","badge","date","description","image","orientation","title","to"])],2))),128))]),_:1})]),_:1})]),_:1})}}});export{$e as default};
